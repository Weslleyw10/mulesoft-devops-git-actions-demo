on:
  push:
    branches:
      - 'develop'
jobs:
  upgrate-version:
    runs-on: ubuntu-latest
    environment: qa
    steps:
      - uses: actions/checkout@v3
        with:
          token: ${{ secrets.GH_LOGIN_TOKEN }}
          ref: ${{ github.head_ref }}
      - name: Set up Java
        uses: actions/setup-java@v1
        with:
          java-version: 11
      - uses:  mickem/gh-action-bump-maven-version@v1.0.0
        id: bump
        with:
          bump-command: mvn org.codehaus.mojo:versions-maven-plugin:2.7:set-property -Dproperty=revision -DnewVersion=@NEW_VERSION@
      - name: Print
        if: steps.bump.outputs.bumped == false
        run: echo @NEW_VERSION@
